<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<!-- 
        Awesome Template
        http://www.templatemo.com/preview/templatemo_450_awesome
        -->
	<title>Literature Love</title>
	<meta name="keywords" content="">
	<meta name="description" content="">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<link rel="stylesheet" href="css/animate.min.css">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/font-awesome.min.css">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="css/templatemo-style.css">
	<script src="js/jquery.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/jquery.singlePageNav.min.js"></script>
	<script src="js/typed.js"></script>
	<script src="js/wow.min.js"></script>
	<script src="js/custom.js"></script>
	<script src="microsoft.cognitiveservices.speech.sdk.bundle.js"></script>
	<!-- <script src="https://cdn.jsdelivr.net/npm/microsoft-cognitiveservices-speech-sdk@latest/distrib/browser/microsoft.cognitiveservices.speech.sdk.bundle-min.js"> -->
	</script>


	<script>
		$(document).ready(function () {
    

			$('#submit').click(function (e) {
				e.preventDefault();

				var sectno = document.getElementById("sect").value;
				if (sectno < 1 || sectno > 133) {
					alert("Enter Sect Number between 1 and 133");
				}
				else {

					$("tbody").html("");
					var endcount = sectno * 10;
					var intcount = endcount - 9;
		
						$.getJSON("https://getthirukkural.appspot.com/api/2.0/kural/"+intcount+"-"+endcount+"?appid=w3w7pjvriwlla&format=json&jsoncallback=?", function(data){
							$.each(data.KuralSet.Kural, function (i, Kural) {
								var id="kural"+i;
								$("tbody").append("<tr><th scope='row'>" + Kural.Number + "</th><td>" + Kural.Line1 + "<br />" + Kural.Line2 + "<button  class = 'kuralbutton btn btn-default'>Play Audio</td><td>"+Kural.Translation+"<input type='submit' id='"+id+"' onclick='playaudio(event)'  class='englishaudio btn btn-default value='Play Audio'/></td></tr>" );
							
							});
        
						});
				}

			});






	
	

		});

	</script>



</head>

<body id="top">

	<!-- start preloader -->
	<div class="preloader">
		<div class="sk-spinner sk-spinner-wave">
			<div class="sk-rect1"></div>
			<div class="sk-rect2"></div>
			<div class="sk-rect3"></div>
			<div class="sk-rect4"></div>
			<div class="sk-rect5"></div>
		</div>
	</div>
	<!-- end preloader -->

	<!-- start header -->

	<!-- end header -->

	<!-- start navigation -->
	<nav class="navbar navbar-default templatemo-nav" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
					<span class="icon icon-bar"></span>
					<span class="icon icon-bar"></span>
					<span class="icon icon-bar"></span>
				</button>
				<a href="#" class="navbar-brand">Literature Love</a>
			</div>


	</nav>
	<!-- end navigation -->

	<!-- start home -->

	<!-- start service -->
	<section id="service">
		<div class="container">
			<a href="index.html" class="btn btn-default">Back to Home</a>





			<div class="row">
				<div class="col-md-12">
					<h2 class="wow bounceIn" data-wow-offset="50" data-wow-delay="0.3s"><span>Thirukurral</span></h2>
				</div>
				<form>

					<label for="example-number-input" class="col-6 col-form-label">Enter Sect Number (From 1 to 133):
					</label>
					<div class="col-10">
						<input class="form-control" type="number" value="1" id="sect" min="1" max="133">
					</div>

					<input type="submit" class="btn btn-default" id="submit">
				</form>
				<table class='table'><thead><tr><th scope='col'>#</th><th scope='col'>Kural</th><th scope='col'>Explanation</th></tr></thead><tbody>
				</tbody></table>

			</div>




		</div>
	</section>
	<!-- end servie -->
	

	<!-- start copyright -->
	<footer id="copyright">
		<div class="container">
			<div class="row">
				<div class="col-md-12 text-center">
					<p class="wow bounceIn" data-wow-offset="50" data-wow-delay="0.3s">
						Copyright &copy; 2084 Company Name</p>
				</div>
			</div>
		</div>
	</footer>
	<!-- end copyright -->

</body>

<script>
   
   function playaudio(event){
    // subscription key and region for speech services.
    var subscriptionKey, serviceRegion;
    var SpeechSDK =  window.SpeechSDK;
    var synthesizer;

  
      
      subscriptionKey = "ccfe53df0b1d443fbc00dd1d7ec88d98";
      serviceRegion = "eastus";
      startSpeakTextAsyncButton = $(event.target);
	  console.log(startSpeakTextAsyncButton);
	  let inputText = startSpeakTextAsyncButton.parent().text();
		console.log(inputText);

      
        startSpeakTextAsyncButton.disabled = true;
      
        var speechConfig;
      
        speechConfig = SpeechSDK.SpeechConfig.fromSubscription(subscriptionKey, serviceRegion);
        

        synthesizer = new SpeechSDK.SpeechSynthesizer(speechConfig);
	

        
        synthesizer.speakTextAsync(
          inputText,
          function (result) {
			startSpeakTextAsyncButton.disabled = false;
            if (result.reason === SpeechSDK.ResultReason.SynthesizingAudioCompleted) {
              console.log("synthesis finished for [" + inputText + "].\n");
            } else if (result.reason === SpeechSDK.ResultReason.Canceled) {
				console.log("synthesis failed. Error detail: " + result.errorDetails + "\n");
            }
            window.console.log(result);
            synthesizer.close();
            synthesizer = undefined;
          },
          function (err) {
            startSpeakTextAsyncButton.disabled = false;
			console.log("err");
            window.console.log(err);

            synthesizer.close();
            synthesizer = undefined;
        });
     

      if (!!window.SpeechSDK) {
        SpeechSDK = window.SpeechSDK;
        startSpeakTextAsyncButton.disabled = false;

        
      }
	
   

   }
  
  </script>


</html>